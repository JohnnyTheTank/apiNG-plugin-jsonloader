/**
    @name: aping-plugin-jsonloader 
    @version: 0.7.5 (10-01-2016) 
    @author: Jonathan Hornung <jonathan.hornung@gmail.com> 
    @url: https://github.com/JohnnyTheTank/apiNG-plugin-jsonloader 
    @license: MIT
*/
"use strict";var jjtApingJsonloader=angular.module("jtt_aping_jsonloader",[]).directive("apingJsonloader",["apingUtilityHelper","jsonloaderFactory",function(a,b){return{require:"?aping",restrict:"A",replace:"false",link:function(c,d,e,f){var g=f.getAppSettings(),h=a.parseJsonFromAttributes(e.apingJsonloader,"jsonloader",g);h.forEach(function(a){if(a.path){var c={path:a.path};a.format&&"jsonp"!=a.format.toLowerCase()?c.format="json":c.format="jsonp",a.callback?c.callback=a.callback:c.callback="JSON_CALLBACK",b.getJsonData(c).then(function(b){var c=[];b.data&&(b.data.constructor!==Array?c.push(b.data):a.items<0?c=b.data:angular.forEach(b.data,function(b,d){d<a.items&&c.push(b)})),f.concatToResults(c)})}})}}}]).factory("jsonloaderFactory",["$http",function(a){var b={};return b.getJsonData=function(b){return"jsonp"==b.format?a.jsonp(b.path,{method:"GET",params:{callback:b.callback}}):a({method:"GET",url:b.path})},b}]);